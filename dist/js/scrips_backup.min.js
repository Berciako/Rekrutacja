"use strict";var participant,allInputs,username=document.querySelector("#name"),surrname=document.querySelector("#surrname"),email=document.querySelector("#email"),phone=document.querySelector("#phone"),address=document.querySelector("#address"),participantName=document.querySelector("#participant-name"),participantSurrname=document.querySelector("#participant-surrname"),participantEmail=document.querySelector("#participant-email"),sendBtn=document.querySelector(".send"),clearBtn=document.querySelector(".clear"),closeBtn=document.querySelector(".close"),popup=document.querySelector(".popup"),errorInfo=document.querySelector(".error-info"),addUserBtn=document.querySelector(".add-user"),userDatas=document.querySelector(".user-datas"),loader=document.querySelector(".loader"),allMails=document.getElementsByClassName("mail"),addParticipant=function(t){t.preventDefault(),(participant=document.createElement("div")).classList.add("user-data"),participant.innerHTML='\n\t<div class="img">\n\t<img class="x-icon" src="./dist/img/x.svg" alt="usuń użytkownika">\n</div>\n\t<div class="form-box">\n\t <label for="participant-name">Imię uczestnika:</label>\n\t\t\t\t\t\t\t\t<input type="text" id="participant-name" placeholder="Podaj imię uczestnika">\n\t\t\t\t\t\t\t\t<p class="error-text">error</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-box">\n\t\t\t\t\t\t\t\t<label for="participant-surrname">Nazwisko Uczestnika:</label>\n\t\t\t\t\t\t\t\t<input type="text" id="participant-surrname" placeholder="Podaj nazwisko uczestnika">\n\t\t\t\t\t\t\t\t<p class="error-text">error</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-box">\n\t\t\t\t\t\t\t\t<label for="participant-email">Email uczestnika:</label>\n\t\t\t\t\t\t\t\t<input type="text" id="participant-email" class="mail" placeholder="Podaj email uczestnika">\n\t\t\t\t\t\t\t\t<p class="error-text">error</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="line"></div>',userDatas.append(participant)},showError=function(t,e){var t=t.parentElement,r=t.querySelector(".error-text");t.classList.add("error"),r.textContent=e},clearError=function(t){t.parentElement.classList.remove("error")},checkMail=function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{2,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;Array.from(allMails).forEach(function(t){e.test(t.value)?(clearError(t),lookForMail()):showError(t,"Email jest niepoprawyny")})},countErrors=function(){var t=document.querySelectorAll(".form-box"),e=0;t.forEach(function(t){t.classList.contains("error")&&e++}),0===e&&(sendBtn.style.display="none",clearBtn.style.display="none",loader.style.display="block",setTimeout(function(){popup.classList.add("show-popup"),window.scrollTo({top:0,behavior:"smooth"})},3e3),clearForm())},showPopup=function(){popup.classList.add("show-popup")},clearForm=function(){allInputs.forEach(function(t){t.value="",clearError(t)})},checkClick=function(t){t.target.matches("img")&&deleteParticipant(t)},deleteParticipant=function(t){t.target.closest("div.user-data").remove()},lookForMail=function(){var e=[];Array.from(allMails).forEach(function(t){e.includes(t.value)?showError(t,"Podano już tego maila"):e.push(t.value)})};clearBtn.addEventListener("click",function(t){t.preventDefault(),(allInputs=document.querySelectorAll(".form-box input")).forEach(function(t){t.value="",clearError(t)})}),sendBtn.addEventListener("click",function(t){t.preventDefault(),(allInputs=document.querySelectorAll(".form-box input")).forEach(function(t){""===t.value?showError(t,t.placeholder):clearError(t)}),checkMail(),countErrors()}),closeBtn.addEventListener("click",function(t){t.preventDefault(),popup.classList.remove("show-popup"),sendBtn.style.display="",clearBtn.style.display="",loader.style.display="none"}),addUserBtn.addEventListener("click",addParticipant),userDatas.addEventListener("click",checkClick);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwc19iYWNrdXAuanMiXSwibmFtZXMiOlsiYWxsSW5wdXRzIiwiYWxsTWFpbHMiLCJ1c2VybmFtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN1cnJuYW1lIiwiZW1haWwiLCJwaG9uZSIsImFkZHJlc3MiLCJwYXJ0aWNpcGFudE5hbWUiLCJwYXJ0aWNpcGFudEVtYWlsIiwic2VuZEJ0biIsImNsZWFyQnRuIiwiY2xvc2VCdG4iLCJwb3B1cCIsImVycm9ySW5mbyIsImFkZFVzZXJCdG4iLCJ1c2VyRGF0YXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHJldmVudERlZmF1bHQiLCJlIiwicGFydGljaXBhbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmQiLCJ0ZXN0Iiwic2hvd0Vycm9yIiwiaW5wdXQiLCJtc2ciLCJmb3JtQm94IiwicGFyZW50RWxlbWVudCIsImVycm9yTXNnIiwidGV4dENvbnRlbnQiLCJlcnJvckNvdW50IiwiZm9yRWFjaCIsImVsIiwiY29udGFpbnMiLCJBcnJheSIsInNldFRpbWVvdXQiLCJjbGVhckVycm9yIiwic2Nyb2xsVG8iLCJsb29rRm9yTWFpbCIsInNob3dQb3B1cCIsImZvcm1Cb3hlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGVhckZvcm0iLCJzdHlsZSIsImRpc3BsYXkiLCJsb2FkZXIiLCJjaGVja0NsaWNrIiwidGFyZ2V0IiwibWF0Y2hlcyIsIndpbmRvdyIsImRlbGV0ZVBhcnRpY2lwYW50IiwidG9wIiwiYmVoYXZpb3IiLCJjbG9zZXN0IiwidmFsdWUiLCJ0ZXN0TWFpbHMiLCJwdXNoIiwicmVtb3ZlIiwiZnJvbSIsInBsYWNlaG9sZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoZWNrTWFpbCIsImNvdW50RXJyb3JzIiwiYWRkUGFydGljaXBhbnQiXSwibWFwcGluZ3MiOiJhQUFBLElBc0JJQSxZQUNBQyxVQXZCRUMsU0FBV0MsU0FBU0MsY0FBYyxTQUNsQ0MsU0FBV0YsU0FBU0MsY0FB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Q0ZMLE1BQU1RLFVBQVVzQyxPQUFPLGNBQ3ZCakQsUUFBUW1DLE1BQU1DLFFBQVUsR0FDeEJuQyxTQUFTa0MsTUFBTUMsUUFBVSxHQUN6QkMsT0FBT0YsTUFBTUMsUUFBVSxTQUd4Qi9CLFdBQVcrQyxpQkFBaUIsUUFBU0csZ0JBQ3JDakQsVUFBVThDLGlCQUFpQixRQUFTZCIsImZpbGUiOiJzY3JpcHNfYmFja3VwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKVxyXG5jb25zdCBzdXJybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdXJybmFtZScpXHJcbmNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VtYWlsJylcclxuY29uc3QgcGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGhvbmUnKVxyXG5jb25zdCBhZGRyZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZHJlc3MnKVxyXG5jb25zdCBwYXJ0aWNpcGFudE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFydGljaXBhbnQtbmFtZScpXHJcbmNvbnN0IHBhcnRpY2lwYW50U3Vycm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFydGljaXBhbnQtc3Vycm5hbWUnKVxyXG5jb25zdCBwYXJ0aWNpcGFudEVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhcnRpY2lwYW50LWVtYWlsJylcclxuXHJcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZCcpXHJcbmNvbnN0IGNsZWFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsZWFyJylcclxuY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKVxyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcbmNvbnN0IGVycm9ySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1pbmZvJylcclxuY29uc3QgYWRkVXNlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdXNlcicpXHJcbmNvbnN0IHVzZXJEYXRhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLWRhdGFzJylcclxuY29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlcicpXHJcbi8vXHJcblxyXG4vLyBET0RBV0FOSUUgVUNaRVNUTklLw5NXXHJcblxyXG5sZXQgcGFydGljaXBhbnRcclxubGV0IGFsbElucHV0c1xyXG5sZXQgYWxsTWFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtYWlsJylcclxuXHJcbmNvbnN0IGFkZFBhcnRpY2lwYW50ID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0cGFydGljaXBhbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdHBhcnRpY2lwYW50LmNsYXNzTGlzdC5hZGQoJ3VzZXItZGF0YScpXHJcblx0cGFydGljaXBhbnQuaW5uZXJIVE1MID0gYFxyXG5cdDxkaXYgY2xhc3M9XCJpbWdcIj5cclxuXHQ8aW1nIGNsYXNzPVwieC1pY29uXCIgc3JjPVwiLi9kaXN0L2ltZy94LnN2Z1wiIGFsdD1cInVzdcWEIHXFvHl0a293bmlrYVwiPlxyXG48L2Rpdj5cclxuXHQ8ZGl2IGNsYXNzPVwiZm9ybS1ib3hcIj5cclxuXHQgPGxhYmVsIGZvcj1cInBhcnRpY2lwYW50LW5hbWVcIj5JbWnEmSB1Y3plc3RuaWthOjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInBhcnRpY2lwYW50LW5hbWVcIiBwbGFjZWhvbGRlcj1cIlBvZGFqIGltacSZIHVjemVzdG5pa2FcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiZXJyb3ItdGV4dFwiPmVycm9yPC9wPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWJveFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cInBhcnRpY2lwYW50LXN1cnJuYW1lXCI+TmF6d2lza28gVWN6ZXN0bmlrYTo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJwYXJ0aWNpcGFudC1zdXJybmFtZVwiIHBsYWNlaG9sZGVyPVwiUG9kYWogbmF6d2lza28gdWN6ZXN0bmlrYVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJlcnJvci10ZXh0XCI+ZXJyb3I8L3A+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tYm94XCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwicGFydGljaXBhbnQtZW1haWxcIj5FbWFpbCB1Y3plc3RuaWthOjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInBhcnRpY2lwYW50LWVtYWlsXCIgY2xhc3M9XCJtYWlsXCIgcGxhY2Vob2xkZXI9XCJQb2RhaiBlbWFpbCB1Y3plc3RuaWthXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImVycm9yLXRleHRcIj5lcnJvcjwvcD5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibGluZVwiPjwvZGl2PmBcclxuXHR1c2VyRGF0YXMuYXBwZW5kKHBhcnRpY2lwYW50KVxyXG59XHJcblxyXG4vL1xyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKVxyXG59XHJcblxyXG4vLyBNYWlsXHJcblxyXG5jb25zdCBjaGVja01haWwgPSAoKSA9PiB7XHJcblx0Y29uc3QgcmUgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezIsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvXHJcblxyXG5cdEFycmF5LmZyb20oYWxsTWFpbHMpLmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKHJlLnRlc3QoZWwudmFsdWUpKSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoZWwpXHJcblx0XHRcdGxvb2tGb3JNYWlsKClcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNob3dFcnJvcihlbCwgJ0VtYWlsIGplc3QgbmllcG9wcmF3eW55JylcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG4vL1xyXG5cclxuY29uc3QgY291bnRFcnJvcnMgPSAoKSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tYm94JylcclxuXHRsZXQgZXJyb3JDb3VudCA9IDBcclxuXHRmb3JtQm94ZXMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcblx0XHRcdGVycm9yQ291bnQrK1xyXG5cdFx0fVxyXG5cdH0pXHJcblx0aWYgKGVycm9yQ291bnQgPT09IDApIHtcclxuXHRcdHNlbmRCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0Y2xlYXJCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0bG9hZGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdy1wb3B1cCcpXHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pXHJcblx0XHQgIH0sIDMwMDApXHJcblx0XHQvLyBzZXRUaW1lb3V0KHNob3dQb3B1cCgpLCA1MDAwKVxyXG5cdFx0Y2xlYXJGb3JtKClcclxuXHR9XHJcbn1cclxuY29uc3Qgc2hvd1BvcHVwID0gKCkgPT4ge1xyXG5cdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3Nob3ctcG9wdXAnKVxyXG59XHJcbmNvbnN0IGNsZWFyRm9ybSA9ICgpID0+IHtcclxuXHRhbGxJbnB1dHMuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC52YWx1ZSA9ICcnXHJcblx0XHRjbGVhckVycm9yKGVsKVxyXG5cdH0pXHJcbn1cclxuXHJcbi8vIFVTVVdBTklFIFVDWkVTVE5JS8OTV1xyXG5cclxuY29uc3QgY2hlY2tDbGljayA9IGUgPT4ge1xyXG5cdGlmIChlLnRhcmdldC5tYXRjaGVzKCdpbWcnKSkge1xyXG5cdFx0ZGVsZXRlUGFydGljaXBhbnQoZSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBkZWxldGVQYXJ0aWNpcGFudCA9IGUgPT4ge1xyXG5cdGUudGFyZ2V0LmNsb3Nlc3QoJ2Rpdi51c2VyLWRhdGEnKS5yZW1vdmUoKVxyXG59XHJcblxyXG4vL1xyXG5cclxuLy8gTWFpbCBDaGVja2VyXHJcblxyXG5jb25zdCBsb29rRm9yTWFpbCA9ICgpID0+IHtcclxuXHRsZXQgdGVzdE1haWxzID0gW11cclxuXHRBcnJheS5mcm9tKGFsbE1haWxzKS5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmICh0ZXN0TWFpbHMuaW5jbHVkZXMoZWwudmFsdWUpKSB7XHJcblx0XHRcdHNob3dFcnJvcihlbCwgJ1BvZGFubyBqdcW8IHRlZ28gbWFpbGEnKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGVzdE1haWxzLnB1c2goZWwudmFsdWUpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuLy8gTE9BRElOR1xyXG5cclxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1ib3ggaW5wdXQnKVxyXG5cdGFsbElucHV0cy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLnZhbHVlID0gJydcclxuXHRcdGNsZWFyRXJyb3IoZWwpXHJcblx0fSlcclxufSlcclxuXHJcbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1ib3ggaW5wdXQnKVxyXG5cdGFsbElucHV0cy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcilcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoZWwpXHJcblx0XHR9XHJcblx0fSlcclxuXHRjaGVja01haWwoKVxyXG5cdGNvdW50RXJyb3JzKClcclxufSlcclxuXHJcbmNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1wb3B1cCcpXHJcblx0c2VuZEJ0bi5zdHlsZS5kaXNwbGF5ID0gJydcclxuXHRjbGVhckJ0bi5zdHlsZS5kaXNwbGF5ID0gJydcclxuXHRsb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG59KVxyXG5cclxuYWRkVXNlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZFBhcnRpY2lwYW50KVxyXG51c2VyRGF0YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NsaWNrKVxyXG4iXX0=
