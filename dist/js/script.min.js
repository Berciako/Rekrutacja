"use strict";var participant,newUser,newMail,newUserMail,allUsers,username=document.querySelector("#name"),surrname=document.querySelector("#surrname"),email=document.querySelector("#email"),phone=document.querySelector("#phone"),address=document.querySelector("#address"),participantName=document.querySelector("#participant-name"),participantSurrname=document.querySelector("#participant-surrname"),participantEmail=document.querySelector("#participant-email"),sendBtn=document.querySelector(".send"),clearBtn=document.querySelector(".clear"),closeBtn=document.querySelector(".close"),popup=document.querySelector(".popup"),xIcon=document.querySelector(".x-icon"),errorInfo=document.querySelector(".error-info"),addUserBtn=document.querySelector(".add-user"),userDatas=document.querySelector(".user-datas"),allInputs=document.querySelectorAll(".form-box input"),addParticipant=(console.log(allInputs),function(t){t.preventDefault(),(participant=document.createElement("div")).classList.add("user-data"),participant.innerHTML='\n\t  <img class="x-icon" src="/dist/img/x.svg" alt="usuń użytkownika">\n\t<div class="form-box">\n\t <label for="participant-name">Imię uczestnika:</label>\n\t\t\t\t\t\t\t\t<input type="text" id="participant-name" placeholder="Podaj imię uczestnika">\n\t\t\t\t\t\t\t\t<p class="error-text">error</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-box">\n\t\t\t\t\t\t\t\t<label for="participant-surrname">Nazwisko Uczestnika:</label>\n\t\t\t\t\t\t\t\t<input type="text" id="participant-surrname" placeholder="Podaj nazwisko uczestnika">\n\t\t\t\t\t\t\t\t<p class="error-text">error</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="form-box">\n\t\t\t\t\t\t\t\t<label for="participant-email">Email uczestnika:</label>\n\t\t\t\t\t\t\t\t<input type="text" id="participant-email" placeholder="Podaj email uczestnika">\n\t\t\t\t\t\t\t\t<p class="error-text">error</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="line"></div>',userDatas.append(participant)}),showError=function(t,e){var t=t.parentElement,r=t.querySelector(".error-text");t.classList.add("error"),r.textContent=e},clearError=function(t){t.parentElement.classList.remove("error")},checkForm=function(t){t.forEach(function(t){""===t.value?showError(t,t.placeholder):clearError(t)})},checkMail=function(t){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{2,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?clearError(t):showError(t,"Email jest niepoprawyny")},checkParticipantMail=function(t){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{2,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?clearError(t):showError(t,"Email jest niepoprawyny")},countErrors=function(){var t=document.querySelectorAll(".form-box"),e=0;t.forEach(function(t){t.classList.contains("error")&&e++}),0===e&&(popup.classList.add("show-popup"),addUser(),hideError(),clearForm())},hideError=function(){errorInfo.style.display="none"},clearForm=function(){[username,surrname,email,phone,address,participantName,participantSurrname,participantEmail].forEach(function(t){t.value="",clearError(t)})},closePopup=function(){popup.classList.remove("show-popup")},checkClick=function(t){t.target.matches("img")&&deleteParticipant(t)},deleteParticipant=function(t){t.target.closest("div").remove()},lookForMail=function(e,r){document.querySelectorAll(".mail").forEach(function(t){t.nextSibling.textContent===e.value?showError(e,"Podano już tego maila"):t.nextSibling.textContent===r.value&&showError(r,"Podano już tego maila")})};clearBtn.addEventListener("click",function(t){t.preventDefault(),[username,surrname,email,phone,address,participantSurrname,participantEmail,participantName].forEach(function(t){t.value="",clearError(t)})}),sendBtn.addEventListener("click",function(t){t.preventDefault(),checkForm([username,surrname,email,phone,address,participantName,participantSurrname,participantEmail]),checkMail(email),checkParticipantMail(participantEmail),lookForMail(email,participantEmail),countErrors()}),closeBtn.addEventListener("click",function(t){t.preventDefault(),popup.classList.remove("show-popup")}),addUserBtn.addEventListener("click",addParticipant),userDatas.addEventListener("click",checkClick);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJuZXdNYWlsIiwibmV3VXNlck1haWwiLCJhbGxVc2VycyIsImFsbElucHV0cyIsInVzZXJuYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3Vycm5hbWUiLCJlbWFpbCIsInBob25lIiwiYWRkcmVzcyIsInBhcnRpY2lwYW50TmFtZSIsInBhcnRpY2lwYW50RW1haWwiLCJzZW5kQnRuIiwiY2xlYXJCdG4iLCJwb3B1cCIsInhJY29uIiwiZXJyb3JJbmZvIiwicGFydGljaXBhbnQiLCJwcmV2ZW50RGVmYXVsdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRQYXJ0aWNpcGFudCIsImNvbnNvbGUiLCJlIiwiY3JlYXRlRWxlbWVudCIsImlucHV0IiwiY2xhc3NMaXN0IiwicGFyZW50RWxlbWVudCIsImVycm9yTXNnIiwidXNlckRhdGFzIiwiYXBwZW5kIiwic2hvd0Vycm9yIiwibXNnIiwiZm9ybUJveCIsImFkZCIsImNoZWNrUGFydGljaXBhbnRNYWlsIiwiY2xlYXJFcnJvciIsInJlbW92ZSIsImNvdW50RXJyb3JzIiwiZWwiLCJlcnJvckNvdW50IiwiZm9yRWFjaCIsInBsYWNlaG9sZGVyIiwidGVzdCIsInZhbHVlIiwiaGlkZUVycm9yIiwiY2hlY2tDbGljayIsImNvbnRhaW5zIiwiYWRkVXNlciIsImNsZWFyRm9ybSIsInN0eWxlIiwiZGlzcGxheSIsInBhcnRpY2lwYW50U3Vycm5hbWUiLCJhbGxNYWlscyIsIm5leHRTaWJsaW5nIiwiY2xvc2VQb3B1cCIsInRhcmdldCIsIm1hdGNoZXMiLCJhZGRFdmVudExpc3RlbmVyIiwibG9va0Zvck1haWwiLCJtYWlsIiwicGFydE1haWwiLCJ0ZXh0Q29udGVudCIsImNoZWNrRm9ybSIsImNoZWNrTWFpbCIsImNsb3NlQnRuIiwiYWRkVXNlckJ0biJdLCJtYXBwaW5ncyI6ImFBQUEsSUF3QklBLFlBQ0FDLFFBQ0FDLFFBREFELFlBS0VFLFNBOUJBQyxTQUFXQyxTQUFTQyxjQUFjLFNBQ2xDQyxTQUFXRixTQUFTQyxjQUFjLGFBRGxDRixNQUFRQyxTQUFXQyxjQUFSLFVBQ1hDLE1BQVFGLFNBQVdDLGNBQVIsVUFDWEUsUUFBUUgsU0FBU0MsY0FBYyxZQUMvQkcsZ0JBQWlCSCxTQUFBQSxjQUF2QixxQkFDTUksb0JBQW1CSixTQUFjQSxjQUF2Qyx5QkFDTUssaUJBQWtCTixTQUFTQyxjQUFjLHNCQUV6Q00sUUFBQUEsU0FBbUJQLGNBQVNDLFNBRTVCTyxTQUFVUixTQUFTQyxjQUFjLFVBQ2pDUSxTQUFXVCxTQUFTQyxjQUFjLFVBR2xDUyxNQUFRVixTQUFTQyxjQUFjLFVBQS9CUyxNQUFRVixTQUFTQyxjQUFjLFdBQy9CVSxVQUFRWCxTQUFTQyxjQUFjLGVBQy9CVyxXQUFZWixTQUFTQyxjQUFjLGFBT3JDWSxVQUFKYixTQUFBQyxjQUFBLGVBZUdhLFVBQUZkLFNBQUFlLGlCQUFBLG1CQURLQyxnQkFMTkMsUUFPQ0osSUFBQUEsV0FGc0IsU0FBQUssR0FDdEJBLEVBQUVKLGtCQTZCSEQsWUFBZWIsU0FBR21CLGNBQUNDLFFBQ0xDLFVBQVNDLElBQUFBLGFBM0J0QlQsWUE0Qk1VLFVBNUJOLHk2QkF3Q0RDLFVBQUFDLE9BQUFaLGVBaUJFYSxVQUFVdkIsU0FBRGlCLEVBQVFPLEdBOUJsQixJQStCQ0MsRUFBQVIsRUFBQUUsY0FSRkMsRUFBQUssRUFBQTNCLGNBQUEsZUFyQkMyQixFQUFRUCxVQUFVUSxJQUFJLFNBK0J2Qk4sRUFBTU8sWUFBb0JILEdBS3hCSSxXQUFXNUIsU0FBQUEsR0FDTGlCLEVBQUFFLGNBQ05JLFVBQVNNLE9BQVEsVUFHYkMsVUFBYyxTQUFBYixHQTdCbkJBLEVBOEJNdEIsUUFBUyxTQUFBb0MsR0FDRSxLQUFiQyxFQUFBQSxNQUNKckMsVUFBVXNDLEVBQUFBLEVBQVFDLGFBNUJoQk4sV0E4QkFJLE1BSUR6QixVQUFNVyxTQUFBQSxHQTNCTix3SkErQkFpQixLQUFBbkMsRUFBQW9DLE9BYkZSLFdBQUE1QixHQWVBdUIsVUFBTWMsRUFBWSw0QkF6QlpWLHFCQUF1QixTQUFBM0IsR0E2QjVCLHdKQVVJb0MsS0FBSHBDLEVBQUFvQyxPQWxDQVIsV0FtQ0FBLEdBWkZMLFVBQUF2QixFQUFBLDRCQWdCQ08sWUFBZ0JzQixXQURqQixJQUtBbEMsRUFBQUUsU0FBQWUsaUJBQUEsYUFwQ0tvQixFQUFhLEVBQ2pCckMsRUFBVXNDLFFBQVEsU0FBQUYsR0FzQ2JPLEVBQUFBLFVBQWFDLFNBQWJELFVBQ0xOLE1BR0MsSUFBQUEsSUFDQXpCLE1BQUFXLFVBQUFRLElBQUEsY0FMRmMsVUE5QkVILFlBcUNGSSxjQU9BSixVQUFBLFdBQ0E1QixVQUFBaUMsTUFBQUMsUUFBQSxRQUVBRixVQUFBLFdBQ0EsQ0FDQTdDLFNBQ0FHLFNBRUFDLE1BeENFQyxNQUNBQyxRQTBDRkMsZ0JBQ0N5QyxvQkFDQUMsa0JBeENFWixRQXlDTWEsU0FBQUEsR0F4Q1BmLEVBQUdLLE1BeUNGYixHQXhDREssV0F5Q09HLE1BSFJnQixXQUFBLFdBRkR4QyxNQUFBVyxVQUFBVyxPQUFBLGVBYUVTLFdBQUEsU0FBQXZCLEdBRkZBLEVBQUFpQyxPQUFBQyxRQUFBLFFBZ0JBNUMsa0JBQVE2QyxJQWNQdkIsa0JBQXFCdkIsU0FBQUEsR0ExRHJCVyxFQTJEQW9DLE9BQUFBLFFBQVluRCxPQUFPSSxVQTFDZCtDLFlBQWMsU0FBQ0MsRUFBTUMsR0FDVHhELFNBQVNlLGlCQUFpQixTQUNsQ3FCLFFBQVEsU0FBQUYsR0FDWkEsRUFBR2UsWUFBWVEsY0FBZ0JGLEVBQUtoQixNQUN2Q2IsVUFBVTZCLEVBQU0seUJBQ05yQixFQUFHZSxZQUFZUSxjQUFnQkQsRUFBU2pCLE9BQ2xEYixVQUFVOEIsRUFBVSw0QkFLdkIvQyxTQUFTNEMsaUJBQWlCLFFBQVMsU0FBQW5DLEdBQ2xDQSxFQUFFSixpQkFDRCxDQUNBZixTQUNBRyxTQUNBQyxNQUNBQyxNQUNBQyxRQUNBMEMsb0JBQ0F4QyxpQkFDQUQsaUJBQ0M4QixRQUFRLFNBQUFGLEdBQ1RBLEVBQUdLLE1BQVEsR0FDWFIsV0FBV0csT0FHYjFCLFFBQVE2QyxpQkFBaUIsUUFBUyxTQUFBbkMsR0FDakNBLEVBQUVKLGlCQUNGNEMsVUFBVSxDQUNUM0QsU0FDQUcsU0FDQUMsTUFDQUMsTUFDQUMsUUFDQUMsZ0JBQ0F5QyxvQkFDQXhDLG1CQUdEb0QsVUFBVXhELE9BQ1YyQixxQkFBcUJ2QixrQkFDckIrQyxZQUFZbkQsTUFBT0ksa0JBQ25CMEIsZ0JBRUQyQixTQUFTUCxpQkFBaUIsUUFBUyxTQUFBbkMsR0FDbENBLEVBQUVKLGlCQUNGSixNQUFNVyxVQUFVVyxPQUFPLGdCQUV4QjZCLFdBQVdSLGlCQUFpQixRQUFTckMsZ0JBQ3JDUSxVQUFVNkIsaUJBQWlCLFFBQVNaIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB1c2VybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJylcclxuY29uc3Qgc3Vycm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3Vycm5hbWUnKVxyXG5jb25zdCBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbWFpbCcpXHJcbmNvbnN0IHBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bob25lJylcclxuY29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRyZXNzJylcclxuY29uc3QgcGFydGljaXBhbnROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhcnRpY2lwYW50LW5hbWUnKVxyXG5jb25zdCBwYXJ0aWNpcGFudFN1cnJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhcnRpY2lwYW50LXN1cnJuYW1lJylcclxuY29uc3QgcGFydGljaXBhbnRFbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXJ0aWNpcGFudC1lbWFpbCcpXHJcblxyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbmQnKVxyXG5jb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGVhcicpXHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJylcclxuLy8gY29uc3QgdWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJzIHVsJylcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKVxyXG5jb25zdCB4SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54LWljb24nKVxyXG5jb25zdCBlcnJvckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItaW5mbycpXHJcbmNvbnN0IGFkZFVzZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXVzZXInKVxyXG5cclxuLy9cclxuXHJcbmNvbnN0IHVzZXJEYXRhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyLWRhdGFzJylcclxuXHJcbmxldCBwYXJ0aWNpcGFudFxyXG5sZXQgbmV3VXNlclxyXG5sZXQgbmV3TWFpbFxyXG5sZXQgbmV3VXNlck1haWxcclxubGV0IGFsbFVzZXJzIFxyXG5cclxuLy8gRE9EQVdBTklFIFVDWkVTVE5JS8OTV1xyXG5cclxuY29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tYm94IGlucHV0JylcclxuY29uc29sZS5sb2coYWxsSW5wdXRzKTtcclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGFkZFBhcnRpY2lwYW50ID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0cGFydGljaXBhbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdHBhcnRpY2lwYW50LmNsYXNzTGlzdC5hZGQoJ3VzZXItZGF0YScpXHJcblx0cGFydGljaXBhbnQuaW5uZXJIVE1MID0gYFxyXG5cdCAgPGltZyBjbGFzcz1cIngtaWNvblwiIHNyYz1cIi9kaXN0L2ltZy94LnN2Z1wiIGFsdD1cInVzdcWEIHXFvHl0a293bmlrYVwiPlxyXG5cdDxkaXYgY2xhc3M9XCJmb3JtLWJveFwiPlxyXG5cdCA8bGFiZWwgZm9yPVwicGFydGljaXBhbnQtbmFtZVwiPkltacSZIHVjemVzdG5pa2E6PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwicGFydGljaXBhbnQtbmFtZVwiIHBsYWNlaG9sZGVyPVwiUG9kYWogaW1pxJkgdWN6ZXN0bmlrYVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJlcnJvci10ZXh0XCI+ZXJyb3I8L3A+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tYm94XCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwicGFydGljaXBhbnQtc3Vycm5hbWVcIj5OYXp3aXNrbyBVY3plc3RuaWthOjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInBhcnRpY2lwYW50LXN1cnJuYW1lXCIgcGxhY2Vob2xkZXI9XCJQb2RhaiBuYXp3aXNrbyB1Y3plc3RuaWthXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImVycm9yLXRleHRcIj5lcnJvcjwvcD5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ib3hcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCJwYXJ0aWNpcGFudC1lbWFpbFwiPkVtYWlsIHVjemVzdG5pa2E6PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwicGFydGljaXBhbnQtZW1haWxcIiBwbGFjZWhvbGRlcj1cIlBvZGFqIGVtYWlsIHVjemVzdG5pa2FcIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiZXJyb3ItdGV4dFwiPmVycm9yPC9wPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJsaW5lXCI+PC9kaXY+YFxyXG5cdHVzZXJEYXRhcy5hcHBlbmQocGFydGljaXBhbnQpXHJcbn1cclxuXHJcblxyXG4vLyBcclxuXHJcblxyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudFxyXG5cdGNvbnN0IGVycm9yTXNnID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpXHJcblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJylcclxufVxyXG5cclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IGlucHV0ID0+IHtcclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC52YWx1ZSA9PT0gJycpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcilcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoZWwpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgY2hlY2tNYWlsID0gZW1haWwgPT4ge1xyXG5cdGNvbnN0IHJlID1cclxuXHRcdC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsyLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkL1xyXG5cclxuXHRpZiAocmUudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuXHRcdGNsZWFyRXJyb3IoZW1haWwpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihlbWFpbCwgJ0VtYWlsIGplc3QgbmllcG9wcmF3eW55JylcclxuXHR9XHJcbn1cclxuY29uc3QgY2hlY2tQYXJ0aWNpcGFudE1haWwgPSBlbWFpbCA9PiB7XHJcblx0Y29uc3QgcmUgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezIsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvXHJcblxyXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbClcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0Vycm9yKGVtYWlsLCAnRW1haWwgamVzdCBuaWVwb3ByYXd5bnknKVxyXG5cdH1cclxufVxyXG5jb25zdCBjb3VudEVycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1ib3gnKVxyXG5cdGxldCBlcnJvckNvdW50ID0gMFxyXG5cdGFsbElucHV0cy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrXHJcblx0XHR9XHJcblx0fSlcclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0cG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdy1wb3B1cCcpXHJcblx0XHRhZGRVc2VyKClcclxuXHRcdGhpZGVFcnJvcigpXHJcblx0XHRjbGVhckZvcm0oKVxyXG5cdH1cclxufVxyXG5jb25zdCBoaWRlRXJyb3IgPSAoKSA9PiB7XHJcblx0ZXJyb3JJbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxufVxyXG5jb25zdCBjbGVhckZvcm0gPSAoKSA9PiB7XHJcblx0O1tcclxuXHRcdHVzZXJuYW1lLFxyXG5cdFx0c3Vycm5hbWUsXHJcblx0XHRlbWFpbCxcclxuXHRcdHBob25lLFxyXG5cdFx0YWRkcmVzcyxcclxuXHRcdHBhcnRpY2lwYW50TmFtZSxcclxuXHRcdHBhcnRpY2lwYW50U3Vycm5hbWUsXHJcblx0XHRwYXJ0aWNpcGFudEVtYWlsLFxyXG5cdF0uZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC52YWx1ZSA9ICcnXHJcblx0XHRjbGVhckVycm9yKGVsKVxyXG5cdH0pXHJcbn1cclxuY29uc3QgY2xvc2VQb3B1cCA9ICgpID0+IHtcclxuXHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LXBvcHVwJylcclxufVxyXG5cclxuXHJcbi8vIFVTVVdBTklFIFVDWkVTVE5JS8OTVyBcclxuXHJcblxyXG5jb25zdCBjaGVja0NsaWNrID0gZSA9PiB7XHJcblx0aWYgKGUudGFyZ2V0Lm1hdGNoZXMoJ2ltZycpKSB7XHJcblx0XHRkZWxldGVQYXJ0aWNpcGFudChlKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm5cclxuXHR9XHJcbn1cclxuY29uc3QgZGVsZXRlUGFydGljaXBhbnQgPSAoZSkgPT4ge1xyXG5cdGUudGFyZ2V0LmNsb3Nlc3QoJ2RpdicpLnJlbW92ZSgpXHJcbn1cclxuXHJcblxyXG4vLyBcclxuXHJcbi8vIFRFU1RcclxuLy8gY29uc3QgbG9va0ZvclVzZXJzID0gKCkgPT4ge1xyXG4vLyBcdGFsbFVzZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnVzZXItZGF0YSAuZm9ybS1ib3gnKVxyXG4vLyBcdGFsbFVzZXJzLmZvckVhY2goZWwgPT57XHJcbi8vIFx0XHRjb25zb2xlLmxvZyhlbC5uZXh0RWxlbWVudFNpYmxpbmcuY2xvc2VzdCgnSW1pxJkgdWN6ZXN0bmlrYTonKSk7XHJcbi8vIFx0fSlcclxuLy8gfVxyXG5cclxuLy8gXHJcblxyXG5cclxuY29uc3QgbG9va0Zvck1haWwgPSAobWFpbCwgcGFydE1haWwpID0+IHtcclxuXHRjb25zdCBhbGxNYWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYWlsJylcclxuXHRhbGxNYWlscy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5uZXh0U2libGluZy50ZXh0Q29udGVudCA9PT0gbWFpbC52YWx1ZSkge1xyXG5cdFx0XHRzaG93RXJyb3IobWFpbCwgJ1BvZGFubyBqdcW8IHRlZ28gbWFpbGEnKVxyXG5cdFx0fSBlbHNlIGlmIChlbC5uZXh0U2libGluZy50ZXh0Q29udGVudCA9PT0gcGFydE1haWwudmFsdWUpIHtcclxuXHRcdFx0c2hvd0Vycm9yKHBhcnRNYWlsLCAnUG9kYW5vIGp1xbwgdGVnbyBtYWlsYScpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KClcclxuXHQ7W1xyXG5cdFx0dXNlcm5hbWUsXHJcblx0XHRzdXJybmFtZSxcclxuXHRcdGVtYWlsLFxyXG5cdFx0cGhvbmUsXHJcblx0XHRhZGRyZXNzLFxyXG5cdFx0cGFydGljaXBhbnRTdXJybmFtZSxcclxuXHRcdHBhcnRpY2lwYW50RW1haWwsXHJcblx0XHRwYXJ0aWNpcGFudE5hbWUsXHJcblx0XS5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLnZhbHVlID0gJydcclxuXHRcdGNsZWFyRXJyb3IoZWwpXHJcblx0fSlcclxufSlcclxuc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdGNoZWNrRm9ybShbXHJcblx0XHR1c2VybmFtZSxcclxuXHRcdHN1cnJuYW1lLFxyXG5cdFx0ZW1haWwsXHJcblx0XHRwaG9uZSxcclxuXHRcdGFkZHJlc3MsXHJcblx0XHRwYXJ0aWNpcGFudE5hbWUsXHJcblx0XHRwYXJ0aWNpcGFudFN1cnJuYW1lLFxyXG5cdFx0cGFydGljaXBhbnRFbWFpbCxcclxuXHRdKVxyXG5cdC8vIGxvb2tGb3JVc2VycygpXHJcblx0Y2hlY2tNYWlsKGVtYWlsKVxyXG5cdGNoZWNrUGFydGljaXBhbnRNYWlsKHBhcnRpY2lwYW50RW1haWwpXHJcblx0bG9va0Zvck1haWwoZW1haWwsIHBhcnRpY2lwYW50RW1haWwpXHJcblx0Y291bnRFcnJvcnMoKVxyXG59KVxyXG5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKVxyXG5cdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctcG9wdXAnKVxyXG59KVxyXG5hZGRVc2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkUGFydGljaXBhbnQpXHJcbnVzZXJEYXRhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrQ2xpY2spIl19
